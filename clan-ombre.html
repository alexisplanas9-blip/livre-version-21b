<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Les Triplés — Clan de l’Ombre</title>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>:root{--bg:#0a0b12;--bg2:#121426;--fg:#e7e3ff;--muted:#9aa0c3;--primary:#8ee6ff;--accent:#b987ff;--gold:#ffd48a;--panel:rgba(255,255,255,.04);--glass:rgba(255,255,255,.06);--shadow:0 8px 30px rgba(0,0,0,.45);--radius:18px}*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:radial-gradient(1200px 800px at 70% -10%,#1a1d40 0%,var(--bg) 60%),radial-gradient(800px 600px at 0% 100%,#0f132c 0%,var(--bg2) 60%);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6}#stars{position:fixed;inset:0;z-index:1;pointer-events:none}.container{width:min(1150px,92vw);margin:0 auto}header{position:sticky;top:0;z-index:20;backdrop-filter:blur(8px);background:linear-gradient(180deg,rgba(10,11,18,.85),rgba(10,11,18,.35) 90%,transparent);border-bottom:1px solid rgba(255,255,255,.06)}.nav{display:flex;align-items:center;justify-content:space-between;padding:10px 0;gap:12px}.brand{display:flex;align-items:center;gap:12px}.logo{width:34px;height:34px;border-radius:50%;background:radial-gradient(circle at 35% 35%,var(--primary),var(--accent) 60%,transparent 70%);box-shadow:0 0 30px rgba(142,230,255,.4)}.brand h1{font:800 20px/1 Cinzel,serif;letter-spacing:.05em;margin:0}nav{position:relative}nav ul{list-style:none;display:flex;gap:6px;align-items:center;padding:0;margin:0}nav a{color:var(--muted);text-decoration:none;padding:10px 12px;border-radius:12px;display:block}nav a:hover{color:var(--fg);background:rgba(255,255,255,.06)}nav .active{color:var(--fg);background:rgba(255,255,255,.08)}.dropdown{position:relative}.dropdown>a:after{content:'▾';margin-left:6px;font-size:12px;opacity:.8}.submenu{position:absolute;top:110%;left:0;min-width:230px;background:rgba(14,16,28,.96);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:6px;display:none;box-shadow:var(--shadow)}.submenu a{padding:10px 12px;border-radius:10px;white-space:nowrap}.dropdown:hover .submenu{display:block}.hamb{display:none;width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);color:var(--fg);align-items:center;justify-content:center;cursor:pointer}.hamb span{width:20px;height:2px;background:var(--fg);position:relative;display:block}.hamb span:before,.hamb span:after{content:'';position:absolute;left:0;width:20px;height:2px;background:var(--fg)}.hamb span:before{top:-6px}.hamb span:after{top:6px}@media (max-width:860px){.hamb{display:flex}nav ul{position:absolute;right:0;top:58px;flex-direction:column;gap:4px;padding:10px;background:rgba(14,16,28,.98);border:1px solid rgba(255,255,255,.08);border-radius:14px;display:none}nav ul.open{display:flex}.dropdown:hover .submenu{display:none}.submenu{position:static;border:none;background:transparent;box-shadow:none;display:block;padding:0}.submenu a{padding:8px 12px}.dropdown>a:after{content:''}}.glow{text-shadow:0 0 20px rgba(142,230,255,.65),0 0 40px rgba(185,135,255,.3)}.card{padding:18px;border-radius:var(--radius);background:var(--panel);border:1px solid rgba(255,255,255,.06)}.hero{padding:64px 0 28px}.hero h2{font:800 38px/1.08 Cinzel,serif;margin:0 0 8px}.pill{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.1);font-size:13px;color:var(--gold);background:rgba(255,212,138,.05)}section{padding:28px 0}h3{font:700 26px/1.2 Cinzel,serif;margin:0 0 10px}.gallery{display:grid;gap:22px}.clans{display:grid;grid-template-columns:repeat(5,1fr);gap:16px}.clan{position:relative;overflow:hidden;border-radius:var(--radius);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08)}.clan a{display:block;color:inherit;text-decoration:none}.clan img{width:100%;height:360px;object-fit:contain;background:#0b0f1a;display:block;filter:saturate(1.05);position:relative;z-index:0}.clan .meta{position:absolute;inset:auto 0 0 0;padding:12px 14px;background:linear-gradient(180deg,transparent,rgba(0,0,0,.65));font:700 16px Cinzel,serif;z-index:2}.controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center}small{color:var(--muted)}input[type=file]{display:none}label.file{cursor:pointer}label.file span{border-bottom:1px dashed rgba(255,255,255,.3)}footer .container{display:flex;justify-content:space-between;align-items:center;padding:26px 0;border-top:1px solid rgba(255,255,255,.06);color:var(--muted)}@media (max-width:1050px){.clans{grid-template-columns:1fr 1fr 1fr 1fr}}@media (max-width:900px){.clans{grid-template-columns:1fr 1fr 1fr}.hero h2{font-size:34px}.clan img{height:320px}}@media (max-width:640px){.clans{grid-template-columns:1fr 1fr}.hero h2{font-size:30px}.clan img{height:300px}}@media (max-width:420px){.clans{grid-template-columns:1fr}.hero h2{font-size:26px}.clan img{height:260px}}
/* === v21: Personnages Ombre (namespaced) === */
.v21-person-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
@media(max-width:1100px){.v21-person-grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:820px){.v21-person-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:560px){.v21-person-grid{grid-template-columns:1fr}}
.v21-card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:16px;overflow:hidden;cursor:pointer;transition:transform .2s ease, box-shadow .2s ease}
.v21-card:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.35)}
.v21-thumb{background:#0b0f1a;height:260px;display:block;object-fit:cover;width:100%}
.v21-name{padding:10px 12px;font:700 16px Cinzel, serif}
.v21-mask{position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter: blur(3px);display:none;align-items:center;justify-content:center;z-index:50}
.v21-modal{width:min(920px,92vw);max-height:82vh;overflow:auto;background:rgba(18,20,40,.96);border:1px solid rgba(255,255,255,.1);border-radius:18px;box-shadow:0 20px 55px rgba(0,0,0,.5);transform:scale(.96);opacity:0;transition:.18s ease}
.v21-modal.open{transform:scale(1);opacity:1}
.v21-head{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.08)}
.v21-title{font:800 20px Cinzel, serif}
.v21-close{width:34px;height:34px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#e7e3ff;display:flex;align-items:center;justify-content:center;cursor:pointer}
.v21-body{display:grid;grid-template-columns:280px 1fr;gap:16px;padding:16px}
@media(max-width:720px){.v21-body{grid-template-columns:1fr}}
.v21-img{width:100%;height:360px;background:#0b0f1a;object-fit:cover;border-radius:12px;border:1px solid rgba(255,255,255,.08)}
.v21-text{color:var(--muted);white-space:pre-wrap;line-height:1.7}
.v21-hint{color:var(--muted);font-size:12px;margin-top:8px}

</style></head>
<body><canvas id="stars"></canvas>
<header>
  <div class="container nav">
    <div class="brand">
      <div class="logo"></div>
      <h1 class="glow">Les Triplés</h1>
    </div>
    <div class="hamb" id="hamb"><span></span></div>
    <nav>
      <ul id="menu">
        <li><a href="index.html">Accueil</a></li>
        <li class="dropdown">
          <a href="clan-ombre.html">Les Clans</a>
          <div class="submenu">
            <a href="clan-ombre.html">Clan de l’Ombre</a>
            <a href="clan-metamorphose.html">Clan de la Métamorphose</a>
            <a href="clan-lien-animal.html">Clan du Lien animal</a>
            <a href="clan-esprit.html">Clan de l’Esprit</a>
            <a href="clan-nature.html">Clan de la Nature</a>
          </div>
        </li>
      </ul>
    </nav>
  </div>
</header>
<script>(function(){const links=document.querySelectorAll('header nav a');const here=location.pathname.split('/').pop()||'index.html';links.forEach(a=>{if(a.getAttribute('href')===here)a.classList.add('active')});})();document.getElementById('hamb')?.addEventListener('click',()=>{const ul=document.getElementById('menu');ul.classList.toggle('open')});</script>

<main>
<section class="hero"><div class="container">
<span class="pill">✦ Clan</span><h2 class="glow">Clan de l’Ombre</h2>
<section><div class="container gallery">
<div class="card"><h3 class="glow">Clan de l’Ombre</h3>
<img id="img-ombre" alt="Clan de l’Ombre" style="width:100%;height:420px;object-fit:contain;background:#0b0f1a;border-radius:14px;border:1px solid rgba(255,255,255,.08)">
</div>
<div class="card" style="padding:22px"><h3 class="glow">Description</h3>
<p style="white-space:pre-wrap;margin-top:8px;color:var(--muted)">Ceux qui portent l’Ombre ne vivent jamais vraiment en pleine lumière. Ils avancent à la lisière, là où la clarté s’efface et où tout devient possible. Leurs pas sont mesurés, leurs gestes calculés, et leurs mots, choisis avec la précision d’une lame. On les dit distants, insaisissables, mais cette froideur n’est qu’un masque : derrière, brûle une loyauté farouche, une tendresse rare, offerte à quelques-uns seulement.

Car si l’Ombre inspire la méfiance, c’est qu’elle ne se contente pas de servir : elle observe, elle jauge, elle tente. Manipuler les ténèbres, modeler les ombres, disparaître à la vue… voilà ses dons les plus visibles. Mais elle porte en elle un autre pouvoir, plus subtil : celui de sentir la peur, de deviner l’intention derrière le sourire, de mettre à nu les vérités que l’on croyait enterrées.

L’histoire a vu naître des porteurs qui, grisés par cette clairvoyance, ont cherché à dominer, à plier le monde à leur volonté. L’Ombre ne les a pas corrompus — elle leur a simplement tendu un miroir, et ils ont choisi de s’y perdre. Ceux qui survivent à cette épreuve apprennent à se tenir en équilibre, entre lumière et nuit, sans jamais céder entièrement à l’un ou à l’autre.

Peu sociables, les Ombres observent avant d’agir. Elles savent que le silence peut peser plus lourd qu’un cri, et qu’un mot placé au bon moment peut détourner le cours d’un destin. Mais si l’un des leurs est menacé, toute retenue disparaît : les ombres se dressent, s’enroulent, frappent et protègent avec la force d’une nuit sans fin.

Car aimer dans l’Ombre, c’est aimer jusqu’au bout — même si cela signifie s’y perdre à jamais.</p></div>
</div></section>

<section id="personnages-ombre-v21">
  <div class="container">
    <h3 class="glow" style="margin-bottom:12px">Personnages — Clan de l’Ombre</h3>
    <div class="v21-person-grid">
<article class="v21-card" data-name="Maître Zebrina" data-img="maitre-zebrina.png">
  <img class="v21-thumb" src="images/personnages/maitre-zebrina.jpg" alt="Maître Zebrina">
  <div class="v21-name">Maître Zebrina</div>
  <template>À la tête du Clan de l’Ombre depuis près de vingt ans, Maître Zebrina est une figure incontournable de l’Arbre. Il a succédé à Maître Halo, parti de ses fonctions dans des circonstances encore floues, et depuis, il règne sur son clan avec une autorité naturelle. Chez lui, la fermeté et l’écoute cohabitent : dur quand il le faut, protecteur et attentif quand il le juge nécessaire.

Zebrina est reconnaissable entre mille, notamment grâce à sa moustache parfaitement taillée, aux pointes fièrement relevées — un détail qu’il entretient avec autant de soin que ses stratégies politiques. D’éducation ancienne, il aime la discipline, le respect et les traditions, mais ne se prive pas de glisser un humour parfois un peu lourd, juste pour voir ses interlocuteurs lever les yeux au ciel.

Ses tenues reflètent son humeur : noir impeccable lors des jours sombres, rose fuchsia éclatant lorsqu’il est d’humeur joyeuse — un contraste qui, selon lui, rappelle que même l’Ombre connaît la lumière. Il vit avec l’ambition claire de voir son clan pleinement intégré au sein de l’Arbre, convaincu que l’isolement a assez duré.

Sous son règne, l’Ombre n’est plus seulement perçue comme une arme, mais comme une force capable d’alliance. Il sait manier les ténèbres avec une maîtrise impressionnante, mais préfère souvent la négociation à la confrontation, conscient que le pouvoir brut n’est rien sans la finesse de l’esprit.

Dans les couloirs du Clan, on dit de lui :
 « Il voit tout, entend tout… et commente toujours. »</template>
</article>
<article class="v21-card" data-name="Ysilenn" data-img="ysilenn.png">
  <img class="v21-thumb" src="images/personnages/ysilenn.jpg" alt="Ysilenn">
  <div class="v21-name">Ysilenn</div>
  <template>Première professeure recrutée par Maître Zebrina après sa nomination, Ysilenn est une figure singulière au sein du Clan de l’Ombre… bien qu’elle n’y appartienne pas vraiment. Fée aux ailes translucides qui vibrent comme un murmure, elle se distingue par deux cornes noires qui émergent de ses boucles sombres, contrastant avec l’éclat fragile de son apparence. Autour d’elle flotte en permanence une fumée noire, ondulante, presque vivante, qui semble réagir à ses émotions.

En tant que fée, elle n’est liée à aucun clan. Mais Ysilenn possède une connaissance rare : elle comprend et peut manier certains aspects de chaque pouvoir, y compris l’Ombre qu’elle maîtrise avec une précision redoutable. Ce talent lui permet d’enseigner la maîtrise des ombres aux élèves, mais son corps, peu fait pour l’endurance, ne lui permet pas de soutenir longtemps l’effort d’un combat prolongé.

Son lien avec le Clan de l’Ombre ne date pas d’hier : son mari, disparu il y a près de soixante ans, était l’un de ses professeurs respectés. Depuis, Ysilenn a accumulé un savoir immense… et une collection de secrets qu’elle garde jalousement. Certains pensent qu’ils pourraient, un jour, bouleverser l’équilibre des clans.

Sous son apparente douceur se cache un esprit affûté, une enseignante exigeante qui ne tolère ni paresse ni approximation. Elle a l’art d’expliquer l’indicible, de guider un élève au bord de ses limites sans qu’il s’en rende compte. Ceux qui la croisent ne savent jamais si elle les observe simplement… ou si elle lit déjà bien plus qu’ils ne le voudraient.

Dans les couloirs, une rumeur persiste :
 « Les ombres lui obéissent… mais ce n’est pas elles que vous devriez craindre. »</template>
</article>
<article class="v21-card" data-name="Veyla" data-img="veyla.png">
  <img class="v21-thumb" src="images/personnages/veyla.jpg" alt="Veyla">
  <div class="v21-name">Veyla</div>
  <template>Intendante de la Maison des Ombres, Veyla est de ces présences discrètes qui semblent toujours là sans qu’on sache vraiment quand elles sont arrivées. Femme mince, aux longs cheveux gris soigneusement coiffés et à la tenue toujours impeccable, elle incarne la rigueur silencieuse du Clan. Son pas ne fait pas de bruit, mais il est rare qu’elle se déplace sans but précis.

Elle connaît tout sur tout le monde — horaires, habitudes, petites manies — mais garde ses informations comme un trésor. Muette comme une tombe, elle ne trahira jamais une confidence, pas même sous pression. Aux élèves en retard, aux nouveaux perdus dans les couloirs ou aux têtes en désordre, elle tend toujours une main secourable. Pour beaucoup, elle est comme une seconde mère : attentive, patiente, et prête à aider sans poser de questions.

Mais ceux qui la connaissent vraiment savent qu’il y a une ligne à ne pas franchir. Car si Veyla perçoit un danger, ses silences se brisent… et chaque mot devient une arme. Quand elle parle dans ces moments-là, ce n’est jamais pour rien. Et souvent, ce qu’elle révèle suffit à changer le cours d’une situation.

Dans la Maison des Ombres, on dit :
 « Si Veyla se met à parler, c’est que quelque chose de grave est sur le point d’arriver. »</template>
</article>
<article class="v21-card" data-name="Éléa" data-img="Elea.png">
  <img class="v21-thumb" src="images/personnages/elea.jpg" alt="Éléa">
  <div class="v21-name">Éléa</div>
  <template>Membre du Clan de l’Ombre, Éléa est bien plus qu’une simple élève : elle est une énigme vivante. Ses pouvoirs dépassent l’entendement, défiant toutes les règles connues. Elle maîtrise non seulement les Ombres avec une puissance hors norme, mais aussi les capacités propres à tous les autres clans — un don qui inquiète autant qu’il fascine.

Dotée d’un caractère fort, toujours prête pour l’aventure, elle avance sans reculer, même face au danger. Très attachée à sa famille et à son cercle le plus proche, Éléa veille à ce que ce lien reste solide, car c’est dans cette unité qu’elle puise sa force. Derrière cette carapace intrépide, il reste un cœur tendre, capable d’une loyauté et d’une générosité désarmantes.

Elle cherche le bien, toujours. Mais un pouvoir aussi immense attire aussi des ombres plus sombres… et la ligne entre lumière et ténèbres pourrait se brouiller. Ses yeux, porteurs de mauvais souvenirs pour bien des clans, rappellent un passé trouble que certains préfèreraient oublier.

Beaucoup pensent qu’elle seule pourrait apaiser les tensions et ramener la paix entre les clans. Mais d’autres redoutent que son destin ne suive un chemin plus dangereux, capable de plonger l’Arbre dans une ère d’incertitude.</template>
</article>
<article class="v21-card" data-name="Paul Roubert" data-img="Paul-roubert.png">
  <img class="v21-thumb" src="images/personnages/paul-roubert.jpg" alt="Paul Roubert">
  <div class="v21-name">Paul Roubert</div>
  <template>Avec ses cheveux roux flamboyants, ses larges épaules et son visage rond, Paul Roubert impose sans chercher à le faire. Élève du Clan de l’Ombre depuis la vague d’admission particulièrement nombreuse de l’an dernier — un contraste marqué avec les années plus calmes qui ont suivi — il est déjà reconnu pour sa maîtrise des arts de la défense. À dix-sept ans, il fait partie de ceux que l’on croise souvent en entraînement, perfectionnant ses gestes jusqu’à l’obsession.

Pour l’instant, on en sait peu sur lui. Il parle peu, se mêle rarement aux intrigues du clan et semble préférer observer en silence. Pourtant, ceux qui l’ont vu à l’œuvre savent que ses réflexes sont impeccables et que sa force physique est doublée d’une grande discipline.

Peut-être qu’un jour, sa maîtrise exceptionnelle de la défense se révélera être bien plus qu’un talent d’entraînement… peut-être qu’elle deviendra la clé pour protéger ce que l’Ombre a de plus précieux.</template>
</article>
<article class="v21-card" data-name="Denis" data-img="Denis.png">
  <img class="v21-thumb" src="images/personnages/denis.jpg" alt="Denis">
  <div class="v21-name">Denis</div>
  <template>Grand et mince, Denis attire d’abord l’attention par ses cheveux d’un bleu foncé presque noir, qui semblent absorber la lumière. À dix-sept ans, il s’est déjà forgé une réputation discrète mais solide : celle d’un prodige dans l’art des illusions d’ombre. Sous ses mains, la pénombre se plie, se tord, prend des formes trompeuses capables de désorienter même les plus aguerris.

On ne sait pas grand-chose de lui, sinon qu’il évite de se mettre inutilement en avant. Ses illusions parlent à sa place, et elles le font avec une précision inquiétante. Certains disent que ses créations sont si réalistes qu’elles peuvent troubler les sens au point de faire douter de la réalité elle-même.

Peu d’éléments filtrent sur son passé, mais un murmure circule dans les couloirs : Denis n’est pas un prénom à oublier</template>
</article>
<article class="v21-card" data-name="Adan" data-img="adan.png">
  <img class="v21-thumb" src="images/personnages/adan.jpg" alt="Adan">
  <div class="v21-name">Adan</div>
  <template>La peau dorée par le soleil, des origines maghrébines qui transparaissent dans ses traits chaleureux, Adan se reconnaît aussi à ses lunettes rondes et à son sourire presque timide. Toujours un livre ou un carnet à portée de main, il est studieux, attentif, avide de comprendre — surtout quand il s’agit des Ombres. Sa maîtrise de ce pouvoir est déjà impressionnante, mais il ne cesse de chercher à en percer les mystères, persuadé qu’il y a toujours plus à apprendre.

Sociable, il aime discuter, confronter les idées, et semble rarement indifférent à ceux qui croisent sa route. Il observe, écoute, et pose les bonnes questions, parfois avec une pointe de moquerie… jamais par méchanceté, mais plutôt comme un jeu intellectuel.

Lorsqu’Adan s’attache à quelqu’un, c’est jusqu’au bout. Ses sentiments sont entiers, ses amitiés indéfectibles, et ses engagements, profonds. Cette intensité fait de lui une présence à la fois rassurante et marquante au sein du clan.

S’il est encore difficile de mesurer toute l’étendue de son rôle, une chose est certaine : Adan n’est pas un simple élève. Et lorsque viendra le moment, sa place au cœur des Ombres sera impossible à ignorer.</template>
</article>
<article class="v21-card" data-name="Mélissa" data-img="melissa.png">
  <img class="v21-thumb" src="images/personnages/melissa.png" alt="Mélissa">
  <div class="v21-name">Mélissa</div>
  <template>Brune, fine et gracieuse, Mélissa attire l’attention sans chercher à le faire. Ses gestes sont mesurés, et sa voix, lorsqu’elle s’élève, porte une assurance tranquille qui force l’écoute. Elle ne parle pas pour remplir le silence, mais seulement lorsque ses mots comptent.

Pour l’instant, on en sait peu sur elle. Ni son histoire, ni l’étendue de ses talents ne sont vraiment connus. Mais cette maîtrise d’elle-même et cette présence silencieuse laissent deviner qu’elle ne restera pas longtemps une simple silhouette dans l’ombre.</template>
</article>
    </div>
  </div>

  <div class="v21-mask" id="v21-mask">
    <div class="v21-modal" id="v21-modal">
      <div class="v21-head">
        <div class="v21-title" id="v21-title">Titre</div>
        <button class="v21-close" id="v21-close" aria-label="Fermer">✕</button>
      </div>
      <div class="v21-body">
        <img class="v21-img" id="v21-img" alt="">
        <div class="v21-text" id="v21-text"></div>
      </div>
    </div>
  </div>
</section>

</main>
<footer><div class="container"><div>© 2025 Les Triplés — Univers.</div><div style="font-size:12px">Les images chargées sont mémorisées localement sur cet appareil.</div></div></footer>
<script>const cvs=document.getElementById('stars');const ctx=cvs.getContext('2d');let W,H,S=[];function resize(){W=cvs.width=innerWidth;H=cvs.height=innerHeight;S=Array.from({length:Math.min(320,Math.floor(W*H/9000))},()=>({x:Math.random()*W,y:Math.random()*H,r:Math.random()*1.2+.2,s:Math.random()*.7+.3}))}function draw(){ctx.clearRect(0,0,W,H);for(const p of S){ctx.fillStyle=`rgba(200,230,255,${0.3+p.s*0.6})`;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();p.y+=0.45+p.s*1.0;if(p.y>H)p.y=-5}requestAnimationFrame(draw)}addEventListener('resize',resize);resize();draw();
function fileToDataURL(file){return new Promise(res=>{const r=new FileReader();r.onload=()=>res(r.result);r.readAsDataURL(file);});}
const img=document.getElementById('img-ombre');const stored=localStorage.getItem('triple_ombre');if(stored)img.src=stored;
document.getElementById('pick-ombre').addEventListener('change',async e=>{const f=e.target.files[0];if(!f)return;const data=await fileToDataURL(f);img.src=data;try{localStorage.setItem('triple_ombre',data);}catch(e){console.warn('localStorage plein',e);}e.target.value="";});
</script>

<script>
(function(){
  const mask=document.getElementById('v21-mask');
  const modal=document.getElementById('v21-modal');
  const title=document.getElementById('v21-title');
  const img=document.getElementById('v21-img');
  const text=document.getElementById('v21-text');
  function openCard(card){
    title.textContent = card.dataset.name || '';
    img.src = 'images/personnages/' + (card.dataset.img || '');
    const tpl = card.querySelector('template');
    text.textContent = tpl ? (tpl.content ? tpl.content.textContent : tpl.innerHTML) : '';
    mask.style.display='flex'; requestAnimationFrame(()=> modal.classList.add('open'));
  }
  function closeModal(){
    modal.classList.remove('open');
    setTimeout(()=>{ mask.style.display='none'; }, 170);
  }
  document.querySelectorAll('.v21-card').forEach(c=> c.addEventListener('click', ()=>openCard(c)));
  document.getElementById('v21-close').addEventListener('click', closeModal);
  mask.addEventListener('click', (e)=>{ if(e.target===mask) closeModal(); });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });
})();
</script>

</body></html>
