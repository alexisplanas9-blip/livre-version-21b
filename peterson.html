<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Les Triplés — Famille Peterson</title>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{--bg:#0a0b12;--bg2:#121426;--fg:#e7e3ff;--muted:#9aa0c3;--primary:#8ee6ff;--accent:#b987ff;--gold:#ffd48a;--panel:rgba(255,255,255,.04);--glass:rgba(255,255,255,.06);--shadow:0 8px 30px rgba(0,0,0,.45);--radius:18px}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:radial-gradient(1200px 800px at 70% -10%,#1a1d40 0%,var(--bg) 60%),radial-gradient(800px 600px at 0% 100%,#0f132c 0%,var(--bg2) 60%);color:var(--fg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6}
#stars{position:fixed;inset:0;z-index:1;pointer-events:none}
.container{width:min(1150px,92vw);margin:0 auto}
header{position:sticky;top:0;z-index:20;backdrop-filter:blur(8px);background:linear-gradient(180deg,rgba(10,11,18,.85),rgba(10,11,18,.35) 90%,transparent);border-bottom:1px solid rgba(255,255,255,.06)}
.nav{display:flex;align-items:center;justify-content:space-between;padding:10px 0;gap:12px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:34px;height:34px;border-radius:50%;background:radial-gradient(circle at 35% 35%,var(--primary),var(--accent) 60%,transparent 70%);box-shadow:0 0 30px rgba(142,230,255,.4)}
.brand h1{font:800 20px/1 Cinzel,serif;letter-spacing:.05em;margin:0}
nav{position:relative}nav ul{list-style:none;display:flex;gap:6px;align-items:center;padding:0;margin:0}
nav a{color:var(--muted);text-decoration:none;padding:10px 12px;border-radius:12px;display:block}
nav a:hover{color:var(--fg);background:rgba(255,255,255,.06)}
nav .active{color:var(--fg);background:rgba(255,255,255,.08)}
.dropdown{position:relative}.dropdown>a:after{content:'▾';margin-left:6px;font-size:12px;opacity:.8}
.submenu{position:absolute;top:110%;left:0;min-width:230px;background:rgba(14,16,28,.96);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:6px;display:none;box-shadow:var(--shadow)}
.submenu a{padding:10px 12px;border-radius:10px;white-space:nowrap}
.dropdown:hover .submenu{display:block}
.hamb{display:none;width:40px;height:40px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);color:var(--fg);align-items:center;justify-content:center;cursor:pointer}
.hamb span{width:20px;height:2px;background:var(--fg);position:relative;display:block}
.hamb span:before,.hamb span:after{content:'';position:absolute;left:0;width:20px;height:2px;background:var(--fg)}
.hamb span:before{top:-6px}.hamb span:after{top:6px}
@media (max-width:860px){
  .hamb{display:flex}
  nav ul{position:absolute;right:0;top:58px;flex-direction:column;gap:4px;padding:10px;background:rgba(14,16,28,.98);border:1px solid rgba(255,255,255,.08);border-radius:14px;display:none}
  nav ul.open{display:flex}
  .dropdown:hover .submenu{display:none}
  .submenu{position:static;border:none;background:transparent;box-shadow:none;display:block;padding:0}
  .submenu a{padding:8px 12px}
  .dropdown>a:after{content:''}
}
.glow{text-shadow:0 0 20px rgba(142,230,255,.65),0 0 40px rgba(185,135,255,.3)}
.card{padding:18px;border-radius:var(--radius);background:var(--panel);border:1px solid rgba(255,255,255,.06)}
.hero{padding:64px 0 28px}
.hero h2{font:800 38px/1.08 Cinzel,serif;margin:0 0 8px}
.pill{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.1);font-size:13px;color:var(--gold);background:rgba(255,212,138,.05)}
section{padding:28px 0}h3{font:700 26px/1.2 Cinzel,serif;margin:0 0 10px}
.gallery{display:grid;gap:22px}
.clans{display:grid;grid-template-columns:repeat(5,1fr);gap:16px}
.clan{position:relative;overflow:hidden;border-radius:var(--radius);background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08)}
.clan a{display:block;color:inherit;text-decoration:none}
.clan img{width:100%;height:360px;object-fit:contain;background:#0b0f1a;display:block;filter:saturate(1.05);position:relative;z-index:0}
.clan .meta{position:absolute;inset:auto 0 0 0;padding:12px 14px;background:linear-gradient(180deg,transparent,rgba(0,0,0,.65));font:700 16px Cinzel,serif;z-index:2}
.controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
small{color:var(--muted)}input[type=file]{display:none}label.file{cursor:pointer}label.file span{border-bottom:1px dashed rgba(255,255,255,.3)}
footer .container{display:flex;justify-content:space-between;align-items:center;padding:26px 0;border-top:1px solid rgba(255,255,255,.06);color:var(--muted)}
@media (max-width:1050px){.clans{grid-template-columns:1fr 1fr 1fr 1fr}}
@media (max-width:900px){.clans{grid-template-columns:1fr 1fr 1fr}.hero h2{font-size:34px}.clan img{height:320px}}
@media (max-width:640px){.clans{grid-template-columns:1fr 1fr}.hero h2{font-size:30px}.clan img{height:300px}}
@media (max-width:420px){.clans{grid-template-columns:1fr}.hero h2{font-size:26px}.clan img{height:260px}}

/* === v21: Personnages (namespaced) — réutilisé tel quel === */
.v21-person-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
@media(max-width:1100px){.v21-person-grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:820px){.v21-person-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:560px){.v21-person-grid{grid-template-columns:1fr}}
.v21-card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:16px;overflow:hidden;cursor:pointer;transition:transform .2s ease, box-shadow .2s ease}
.v21-card:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.35)}
.v21-thumb{display:block;object-fit:cover;width:100%;object-position:top}
.v21-name{padding:10px 12px;font:700 16px Cinzel, serif}
.v21-mask{position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter: blur(3px);display:none;align-items:center;justify-content:center;z-index:50}
.v21-modal{width:min(920px,92vw);max-height:82vh;overflow:auto;background:rgba(18,20,40,.96);border:1px solid rgba(255,255,255,.1);border-radius:18px;box-shadow:0 20px 55px rgba(0,0,0,.5);transform:scale(.96);opacity:0;transition:.18s ease}
.v21-modal.open{transform:scale(1);opacity:1}
.v21-head{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.08)}
.v21-title{font:800 20px Cinzel, serif}
.v21-close{width:34px;height:34px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#e7e3ff;display:flex;align-items:center;justify-content:center;cursor:pointer}
.v21-body{display:grid;grid-template-columns:280px 1fr;gap:16px;padding:16px}
@media(max-width:720px){.v21-body{grid-template-columns:1fr}}
.v21-img{width:100%;height:360px;background:#0b0f1a;object-fit:cover;border-radius:12px;border:1px solid rgba(255,255,255,.08)}
.v21-text{color:var(--muted);white-space:pre-wrap;line-height:1.7}
.v21-hint{color:var(--muted);font-size:12px;margin-top:8px}

/* === Mise en page spécifique Famille: 2 parents en haut, 3 enfants en bas === */
.family-block{display:grid;gap:16px}
.family-row{display:grid;gap:16px}
.family-row.parents{grid-template-columns:repeat(2,1fr)}
.family-row.children{grid-template-columns:repeat(3,1fr)}
@media(max-width:900px){
  .family-row.parents{grid-template-columns:1fr 1fr}
  .family-row.children{grid-template-columns:1fr 1fr 1fr}
}
@media(max-width:820px){
  .family-row.children{grid-template-columns:1fr 1fr}
}
@media(max-width:560px){
  .family-row.parents,.family-row.children{grid-template-columns:1fr}
}
</style>
</head>
<body>
<canvas id="stars"></canvas>

<header>
  <div class="container nav">
    <div class="brand">
      <div class="logo"></div>
      <h1 class="glow">Les Triplés</h1>
    </div>
    <div class="hamb" id="hamb"><span></span></div>
    <nav>
      <ul id="menu">
        <li><a href="index.html">Accueil</a></li>
        <li class="dropdown">
          <a href="clan-esprit.html">Les Clans</a>
          <div class="submenu">
            <a href="clan-ombre.html">Clan de l’Ombre</a>
            <a href="clan-metamorphose.html">Clan de la Métamorphose</a>
            <a href="clan-lien-animal.html">Clan du Lien animal</a>
            <a href="clan-esprit.html">Clan de l’Esprit</a>
            <a href="clan-nature.html">Clan de la Nature</a>
          </div>
        </li>
        <li><a href="peterson.html">Famille Peterson</a></li>
        <li><a href="creatures.html">Les créatures</a></li>
        <li><a href="arbre.html">L’Arbre</a></li>
        <li><a href="auteur.html">L'Auteur</a></li>
      </ul>
    </nav>
  </div>
</header>

<script>
(function(){
  const links=document.querySelectorAll('header nav a');
  const here=location.pathname.split('/').pop()||'index.html';
  links.forEach(a=>{ if(a.getAttribute('href')===here) a.classList.add('active') });
})();
document.getElementById('hamb')?.addEventListener('click',()=>{
  const ul=document.getElementById('menu'); ul.classList.toggle('open');
});
</script>

<main>
  <section class="hero">
    <div class="container">
      <span class="pill">✦ Famille</span>
      <h2 class="glow">Famille Peterson</h2>
      <section>
        <div class="container gallery">
          <div class="card">
            <h3 class="glow">La Famille</h3>
            <img id="img-peterson" src="images/peterson.png" alt="Famille Peterson"
                 style="width:100%;height:420px;object-fit:contain;background:#0b0f1a;border-radius:14px;border:1px solid rgba(255,255,255,.08)">
            <div class="v21-hint">Astuce : place une image <code>images/peterson.png</code> (ou remplace-la) ; c’est le même système de fichiers que les clans.</div>
          </div>
          <div class="card" style="padding:22px">
            <h3 class="glow">Description</h3>
            <p style="white-space:pre-wrap;margin-top:8px;color:var(--muted)">
Famille au cœur du récit, les Peterson portent une histoire faite de liens puissants, de secrets et de choix difficiles. 
Rassemble ici le texte de présentation : origines, traits communs, éléments marquants, tensions, valeurs, etc.
            </p>
          </div>
        </div>
      </section>

      <section id="famille-peterson">
        <div class="container">
          <h3 class="glow" style="margin-bottom:12px">Membres de la famille</h3>

          <!-- Bloc à deux rangées : 2 parents en haut, 3 enfants en bas -->
          <div class="family-block">

            <!-- RANGÉE PARENTS -->
            <div class="family-row parents">

              <!-- Parent 1 -->
              <article class="v21-card" data-name="Parent 1 — Nom à compléter" data-img="Parent1.png">
                <img class="v21-thumb" src="images/personnages/Parent1.png" alt="Parent 1">
                <div class="v21-name">Parent 1</div>
                <template>
Écris ici la description détaillée du premier parent (caractère, rôle dans l'intrigue, liens avec les enfants, pouvoirs éventuels, etc.).
                </template>
              </article>

              <!-- Parent 2 -->
              <article class="v21-card" data-name="Parent 2 — Nom à compléter" data-img="Parent2.png">
                <img class="v21-thumb" src="images/personnages/Parent2.png" alt="Parent 2">
                <div class="v21-name">Parent 2</div>
                <template>
Écris ici la description détaillée du deuxième parent.
                </template>
              </article>

            </div>

            <!-- RANGÉE ENFANTS -->
            <div class="family-row children">

              <!-- Enfant 1 -->
              <article class="v21-card" data-name="Léo Peterson" data-img="Léo.png">
                <img class="v21-thumb" src="images/personnages/Léo.png" alt="Léo Peterson">
                <div class="v21-name">Léo Peterson</div>
                <template>
Léo est le plus calme de la fratrie… (reprends/ajuste ton texte officiel ici).
                </template>
              </article>

              <!-- Enfant 2 -->
              <article class="v21-card" data-name="Carlos Peterson" data-img="Carlos.png">
                <img class="v21-thumb" src="images/personnages/Carlos.png" alt="Carlos Peterson">
                <div class="v21-name">Carlos Peterson</div>
                <template>
Décris Carlos (personnalité, arcs, moments clés, pouvoirs…).
                </template>
              </article>

              <!-- Enfant 3 -->
              <article class="v21-card" data-name="Éléa Peterson" data-img="Éléa.png">
                <img class="v21-thumb" src="images/personnages/Éléa.png" alt="Éléa Peterson">
                <div class="v21-name">Éléa Peterson</div>
                <template>
Décris Éléa (personnalité, arcs, moments clés, pouvoirs…).
                </template>
              </article>

            </div>
          </div>

          <!-- Modal réutilisé -->
          <div class="v21-mask" id="v21-mask">
            <div class="v21-modal" id="v21-modal">
              <div class="v21-head">
                <div class="v21-title" id="v21-title">Titre</div>
                <button class="v21-close" id="v21-close" aria-label="Fermer">✕</button>
              </div>
              <div class="v21-body">
                <img class="v21-img" id="v21-img" alt="">
                <div class="v21-text" id="v21-text"></div>
              </div>
            </div>
          </div>

        </div>
      </section>
    </div>
  </section>
</main>

<footer>
  <div class="container">
    <div>© 2025 Les Triplés — Univers.</div>
    <div style="font-size:12px">Les images chargées sont mémorisées localement sur cet appareil.</div>
  </div>
</footer>

<!-- Étoiles -->
<script>
const cvs=document.getElementById('stars');const ctx=cvs.getContext('2d');let W,H,S=[];
function resize(){W=cvs.width=innerWidth;H=cvs.height=innerHeight;S=Array.from({length:Math.min(320,Math.floor(W*H/9000))},()=>({x:Math.random()*W,y:Math.random()*H,r:Math.random()*1.2+.2,s:Math.random()*.7+.3}))}
function draw(){ctx.clearRect(0,0,W,H);for(const p of S){ctx.fillStyle=`rgba(200,230,255,${0.3+p.s*0.6})`;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();p.y+=0.45+p.s*1.0;if(p.y>H)p.y=-5}requestAnimationFrame(draw)}
addEventListener('resize',resize);resize();draw();

// Image principale (même principe que les clans ; stockage local)
(function(){
  const img=document.getElementById('img-peterson');
  const stored=localStorage.getItem('triple_peterson');
  if(stored) img.src=stored;
})();
</script>

<!-- Modal personnages -->
<script>
(function(){
  const mask=document.getElementById('v21-mask');
  const modal=document.getElementById('v21-modal');
  const title=document.getElementById('v21-title');
  const img=document.getElementById('v21-img');
  const text=document.getElementById('v21-text');

  function openCard(card){
    title.textContent = card.dataset.name || '';
    img.src = 'images/personnages/' + (card.dataset.img || '');
    const tpl = card.querySelector('template');
    text.textContent = tpl ? (tpl.content ? tpl.content.textContent : tpl.innerHTML) : '';
    mask.style.display='flex'; requestAnimationFrame(()=> modal.classList.add('open'));
  }
  function closeModal(){
    modal.classList.remove('open');
    setTimeout(()=>{ mask.style.display='none'; }, 170);
  }
  document.querySelectorAll('.v21-card').forEach(c=> c.addEventListener('click', ()=>openCard(c)));
  document.getElementById('v21-close').addEventListener('click', closeModal);
  mask.addEventListener('click', (e)=>{ if(e.target===mask) closeModal(); });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });
})();
</script>

</body>
</html>
